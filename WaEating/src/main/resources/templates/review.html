<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragments/header::WaEating_head" />
<head th:replace="fragments/footer::WaEating_foot"/>
<head>
<link rel="stylesheet" th:href="@{/css/side.css}">
<script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
</head>


<style>
   .star-rating {
      font-size: 30px;
          margin-right: 15%;
          display: flex;
          flex-direction: row-reverse;
      }

   .star-rating input {
      display: none;
   }

   .star-rating label {
      color: #ccc;
      cursor: pointer;
   }

   .star-rating :checked~label {
      color: #f90;
   }

   .star-rating label:hover,
   .star-rating label:hover~label {
      color: #fc0;
   }

   #reviewContainer {
      width: 90%;
      margin: 0 auto;
   }

   hr {
      margin: 2% auto;
      width: 90%;
   }

   #reviewWrite {
      display: flex;
   }

   #ratingContainer {
      display: flex;
   }

   .s {
      width: 20%;
      font-size: 20px;
      margin-left: 5%;
   }
   
   #resInfo{
      margin-left: 5%;
   }
</style>

<body>

   <div th:replace="fragments/header:: WaEating_header"></div>

   <!--side-->
   <div class="sideWrapper">
      <div class="sidebar">
         <ul>
            <li><a th:href="@{/}"><i class="fas fa-home"></i>홈</a></li>
            <li><a th:href="@{/mypage}"><i class="fas fa-address-card"></i>예약정보</a></li>
            <li><a th:href="@{/mypage/findmy}"><i class="fas fa-user"></i>내 정보</a></li>
            <li><a th:href="@{/mypage/update}"><i class="fa-solid fa-user-pen"></i>내 정보 수정</a></li>
            <li><a th:href="@{/mypage/inquiry}"><i class="fa-solid fa-question"></i> 문의 조회</a></li>
            <!--            <li><a href="#"><i class="fas fa-project-diagram"></i>portfolio</a></li>
            <li><a href="#"><i class="fas fa-blog"></i>Blogs</a></li>
            <li><a href="#"><i class="fas fa-address-book"></i>Contact</a></li>
            <li><a href="#"><i class="fas fa-map-pin"></i>Map</a></li>-->
         </ul>
      </div>
      <div class="test">
         <div class="main_content">
            <form method="post" th:action="@{/mypage/review/save}" th:object="${review}" enctype="multipart/form-data">
               <input type="hidden" th:field="*{reservationInfo}" />
               <input type="hidden" th:field="*{id}" />
               <!--별점-->
               <div id="reviewContainer">
                  <div id="resInfo">
                     <h2>[[${reservation.restaurant.name}]]</h2>
                     <h4>[[${reservation.restaurantAvaTime.date}]]</h4>
                  </div>
                  <hr>
                  <div id="ratingContainer">
                     <div class="test">
                        <div class="star-rating">
                     <span class="s">가격</span>
                           <input type="radio" id="5-stars-price" class="form-control" value="5.0"
                              th:field="${scoredto.priceScore}" />
                           <label for="5-stars-price" class="star">&#9733;</label>
                           <input type="radio" id="4-stars-price" class="form-control" value="4.0"
                              th:field="${scoredto.priceScore}" />
                           <label for="4-stars-price" class="star">&#9733;</label>
                           <input type="radio" id="3-stars-price" class="form-control" value="3.0"
                              th:field="${scoredto.priceScore}" />
                           <label for="3-stars-price" class="star">&#9733;</label>
                           <input type="radio" id="2-stars-price" class="form-control" value="2.0"
                              th:field="${scoredto.priceScore}" />
                           <label for="2-stars-price" class="star">&#9733;</label>
                           <input type="radio" id="1-star-price" class="form-control" value="1.0"
                              th:field="${scoredto.priceScore}" />
                           <label for="1-star-price" class="star">&#9733;</label>
                        </div>
                     </div>
                     <br>

                     <div class="test">
                        <div class="star-rating">
                           <span class="s">서비스</span>
                           <input type="radio" id="5-stars-service" class="form-control" value="5.0"
                              th:field="${scoredto.serviceScore}" />
                           <label for="5-stars-service" class="star">&#9733;</label>
                           <input type="radio" id="4-stars-service" class="form-control" value="4.0"
                              th:field="${scoredto.serviceScore}" />
                           <label for="4-stars-service" class="star">&#9733;</label>
                           <input type="radio" id="3-stars-service" class="form-control" value="3.0"
                              th:field="${scoredto.serviceScore}" />
                           <label for="3-stars-service" class="star">&#9733;</label>
                           <input type="radio" id="2-stars-service" class="form-control" value="2.0"
                              th:field="${scoredto.serviceScore}" />
                           <label for="2-stars-service" class="star">&#9733;</label>
                           <input type="radio" id="1-star-service" class="form-control" value="1.0"
                              th:field="${scoredto.serviceScore}" />
                           <label for="1-star-service" class="star">&#9733;</label>
                        </div>
                     </div>
                     <br>

                     <div class="test">
                        <div class="star-rating">
                           <span class="s">맛</span>
                           <input type="radio" id="5-stars-taste" class="form-control" value="5.0"
                              th:field="${scoredto.tasteScore}" />
                           <label for="5-stars-taste" class="star">&#9733;</label>
                           <input type="radio" id="4-stars-taste" class="form-control" value="4.0"
                              th:field="${scoredto.tasteScore}" />
                           <label for="4-stars-taste" class="star">&#9733;</label>
                           <input type="radio" id="3-stars-taste" class="form-control" value="3.0"
                              th:field="${scoredto.tasteScore}" />
                           <label for="3-stars-taste" class="star">&#9733;</label>
                           <input type="radio" id="2-stars-taste" class="form-control" value="2.0"
                              th:field="${scoredto.tasteScore}" />
                           <label for="2-stars-taste" class="star">&#9733;</label>
                           <input type="radio" id="1-star-taste" class="form-control" value="1.0"
                              th:field="${scoredto.tasteScore}" />
                           <label for="1-star-taste" class="star">&#9733;</label>
                        </div>
                     </div>
                     <br>
                  </div>
                  <!--별점-->
                  <hr>
                  <!--리뷰-->
                  <span class="s">리뷰 작성 </span>
                  <div id="reviewWrite">
                     <textarea type="text" th:field="*{content}" class="form-control"
                        style="height: 300px; margin: 0 auto; width: 90%;" required minlength="1" maxlength="255" margin="0 auto"
                        onkeydown="if(event.keyCode==13){event.preventDefault();this.value += '\n';}"></textarea>
                  </div>
                  <!--리뷰-->
               </div>
                  <div class="text-center">
                     <input type="submit" value="Save" class="btn btn-primary m-3">
                   <input type="button" value="Cancel" class="btn btn-secondary" id="buttonCancel"
                         th:onclick='|window.location = "@{/mypage}"|' />
                </div>
            </form>
         </div>

      </div>
   </div>
<div th:replace="fragments/footer    :: WaEating_footer"></div>   
</body>

</html>